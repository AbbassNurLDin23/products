<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Product Form</title></head>
<body>
<h2 th:if="${product != null and product.id != null}">Edit Product</h2>
<h2 th:if="${product == null or product.id == null}">Create Product</h2>

<form th:action="@{/products}" th:object="${product}" method="post">
    <input type="hidden" th:field="*{id}" />
    <label>Name:</label>
    <input type="text" th:field="*{name}" required /><br/>
    <label>Price:</label>
    <input type="number" step="0.01" th:field="*{price}" required /><br/>
    <label>Category:</label>
    <select th:field="*{category}">
        <option th:each="cat : ${categories}" th:value="${cat}" th:text="${cat.name}"></option>
    </select><br/><br/>
    <button type="submit">Save</button>
</form>

<a href="/products">Back</a>
</body>
</html>
